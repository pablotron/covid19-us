<!DOCTYPE html>
<html lang='en-US'>
  <head>
    <meta charset='utf-8'/>
    <title>COVID-19 in the US</title>
    <style type='text/css'>
      .num { text-align: right; }
      .hidden { display: none; }

      #data th, #data caption, #data td {
        font-family: verdana, arial, sans-serif;
        margin: 2 1;
      }

      #data th.state-name { text-align: right; }

      #data th { font-size: 80%; }

      #data tbody tr:hover { background-color: #eee }

      #masks th, #masks caption, #masks td {
        font-family: verdana, arial, sans-serif;
      }

      #masks caption { font-size: 80%; font-weight: bold }
      #masks thead th { font-size: 80%; text-align: center; }
      #masks tbody th { font-size: 80%; text-align: right; }
      #masks button.active { font-weight: bold; }

      .selects td.label {
        font-family: verdana, arial, sans-serif;
        font-size: 80%;
        font-weight: bold;
        text-align: right;
      }

      .selects td..menu {
        text-align: left;
      }

      .chart-wrap { width: 800px; }

      #count { max-width: 2.5em }

      #help {
        font-family: verdana, arial, sans-serif;
        width: 800px;
        border: 1px solid black;
        padding: 0px 10px;
        margin: 20px 0 20px 0;
      }

      a.csv {
        font-family: verdana, arial, sans-serif;
      }
    </style>
  </head>

  <body>
    <object
      id='map'
      data='us.svg'
      type="image/svg+xml"
      width='800'
      height='495'
    ></object>

    <table class='selects'>
      <tr>
        <td class='label'>
          <label
            for='states'
            title='Select states on map by filter.'
          >
            Map
          </label>
        </td>

        <td class='menu'>
          <input
            id='count'
            type='number'
            value='5'
            min='0'
            max='51'
            step='1'
            title='Number of states to select.'
          />

          <select
            id='states'
            title='Select states on map by filter.'
          >
          </select>

          <button
            id='none'
            title='Clear selected states.'
          >
            Clear
          </button>
        </td>
      </tr>

      <tr>
        <td class='label'>
          <label
            for='y-axis'
            title='Select Y axis of chart.'
          >
            Chart
          </label>
        </td>

        <td class='menu'>
          <select
            id='y-axis'
            title='Select Y axis of chart.'
          >
          </select>
        </td>
      </tr>

      <tr>
        <td class='label'>
          <label
            for='table-units'
            title='Select contents of table.'
          >
            Table
          </label>
        </td>

        <td class='menu'>
          <select
            id='table-units'
            title='Select contents of table.'
          >
          </select>
        </td>
      </tr>
    </table><!-- selects -->

    <div class='hidden chart-wrap' data-set='confirmed'>
      <canvas
        id='confirmed'
        width='300'
        height='100'
      ></canvas>
    </div><!-- chart-wrap -->

    <div id='data'>
    </div>

    <div id='help'>
      <p>
        <b>About COVID-19 US</b>
      </p>

      <p>
        This tool allows you to view the state-level COVID-19 timeline
        data across multiple states.
      </p>

      <p>
        You can click states on the map to select or de-select
        them.  A timeline of data from the selected states will show up
        in the chart and table.
      </p>

      <b>Usage:</b>
      <ul>
        <li>
          <b>Map</b>: Use this dropdown menu to quickly select several
          states based on certain conditions.
        </li>

        <li>
          <b>Clear</b> Click this button button to clear all selected states.
        </li>

        <li>
          <b>Chart</b>: Use this dropdown menu to select the value of
          the Y axis in the output chart.
        </li>

        <li>
          <b>Table</b> Use this dropdown menu to select the value
          displayed in the output table.  You can hover over the cells
          for additional details.
        </li>

        <li>
          <b>Download Results</b>: Click this link to download the table
          data as a <a
            href='https://en.wikipedia.org/wiki/Comma-separated_values'
            title='Comma-separated value.'
          >CSV</a> file.
        </li>
      </ul>

      <b>Tips:</b>
      <ul>
        <li>
          The data source is refreshed daily at 4pm, EST.
        </li>

        <li>
          Hover over the name of each state in the table to see when the
          data for that state was last checked.
        </li>
      </ul>

      <b>Links:</b>
      <ul>
        <li>
          <a
            title='current data source'
            href='https://covidtracking.com/'
          >COVID Tracking Project</a>:

          Data source.
        </li>

        <li>
          <a
            title='github repository'
            href='https://github.com/pablotron/covid19-us/'
          >GitHub repository</a>:

          Source code for this tool.
        </li>
      </ul>

      <p>
        <b>Note:</b> This tool has only been tested in Chrome, and
        probably doesn't work in other browsers.
      </p>
    </div><!-- #help -->

    <script type='text/javascript' src='js/chartjs-2.9.3-bundle.min.js'></script>
    <script type='text/javascript' src='js/app.js'></script>
  </body>
</html>
